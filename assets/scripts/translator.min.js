String.prototype.xsplit=function(c){if("a~b".split(/(~)/).length===3){return this.split(c)}if(!c.global){c=new RegExp(c.source,"g"+(c.ignoreCase?"i":""))}var d=0,b=[];var a;while((a=c.exec(this))!==null){b.push(this.slice(d,a.index));if(a.length>1){b.push(a[1])}d=c.lastIndex}if(d<this.length){b.push(this.slice(d))}if(d===this.length){b.push("")}return b};var wpm_translator={string_to_ml_array:function(f){if(Object.prototype.toString.call(f)!=="[object String]"){return f}var c=/(\[:[a-z-]+\]|\[:\])/gi;var e=f.xsplit(c);if(typeof e!=="object"||!Object.keys(e).length){return f}if(Object.keys(e).length===1){return e[0]}var a={},b=wpm_translator_params.languages;b.forEach(function(g){a[g]=""});var d=e.length===1?wpm_translator_params.default_language:"";e.forEach(function(h,g){if(g%2===1){d=h}else{if(!!a[d]){a[d]+=h.trim()}}});return a},translate_string:function(b,d){var a=wpm_translator.string_to_ml_array(b);if(typeof a!=="object"||!Object.keys(a).length){return b}var c=wpm_translator_params.languages;if(d){if(!!c[d]){return a[d]}return""}d=wpm_translator_params.language;if(!a[d].length&&wpm_translator_params.show_untranslated_strings==="yes"){return a[wpm_translator_params.default_language]}if(!!a[d]){return a[d]}return""}};